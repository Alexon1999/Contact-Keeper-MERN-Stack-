(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{34:function(e,t,a){e.exports=a.p+"static/media/Spinner-1s-200px.ce3ef416.gif"},39:function(e,t,a){e.exports=a(68)},44:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(15),s=a(3),u=(a(44),Object(n.createContext)()),i=a(72),m=a(70),p=a(8),d=a.n(p),E=function(e){var t=e.contact,a=t._id,c=t.name,l=t.email,o=t.phone,s=t.type,i=Object(n.useContext)(u),m=i.deleteContact,p=i.setCurrent,d=i.clearCurrent;return r.a.createElement("div",{className:"card bg-light"},r.a.createElement("h3",{className:"text-primary text-left"},c," ",r.a.createElement("span",{style:{float:"right"},className:"badge "+("professional"===s?"badge-success":"badge-primary")},s.charAt(0).toUpperCase()+s.slice(1))),r.a.createElement("ul",{className:"list"},l&&r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-envelope-open"})," ",l),o&&r.a.createElement("li",null,r.a.createElement("i",{className:"fas fa-phone"})," ",o)),r.a.createElement("p",null,r.a.createElement("button",{className:"btn btn-dark btn-sm",onClick:function(){p(t)}},"Edit"),r.a.createElement("button",{className:"btn btn-danger btn-sm",onClick:function(){m(a),d()}},"Delete")))};E.prototype={contact:d.a.object.isRequired};var f=E,b=a(34),O=a.n(b),g={width:"200px",margin:"auto",display:"block"},h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:O.a,style:g,alt:"Loading ..."}))},C=function(){var e=Object(n.useContext)(u),t=e.contacts,a=e.filtered,c=e.getContacts,l=e.loading;return Object(n.useEffect)((function(){c()}),[]),null===t||0!==t.length||l?null!==a&&0===a.length?r.a.createElement("h4",null,"Not Found"):r.a.createElement(r.a.Fragment,null,null===t||l?r.a.createElement(h,null):r.a.createElement(i.a,null,null!==a?a.map((function(e){return r.a.createElement(m.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(f,{contact:e}))})):t.map((function(e){return r.a.createElement(m.a,{key:e._id,timeout:500,classNames:"item"},r.a.createElement(f,{contact:e}))})))):r.a.createElement("h4",null,"Please add a contact")},y=a(14),v=a(1),j=a(10),R=function(){var e=Object(n.useContext)(u),t=e.addContact,a=e.current,c=e.clearCurrent,l=e.updateContact;Object(n.useEffect)((function(){m(null!==a?a:{name:"",email:"",phone:"",type:"personal"})}),[e,a]);var o=Object(n.useState)({name:"",email:"",phone:"",type:"personal"}),s=Object(j.a)(o,2),i=s[0],m=s[1],p=i.name,d=i.email,E=i.phone,f=i.type,b=function(e){m(Object(v.a)(Object(v.a)({},i),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),null===a?t(i):l(i),c()}},r.a.createElement("h2",{className:"text-primary"},a?"Edit Contact":"Add Contact"),r.a.createElement("input",{type:"text",placeholder:"name",name:"name",value:p,onChange:b}),r.a.createElement("input",{type:"email",placeholder:"Email",name:"email",value:d,onChange:b}),r.a.createElement("input",{type:"phone",placeholder:"Phone",name:"phone",value:E,onChange:b}),r.a.createElement("h5",null,"Contact Type"),r.a.createElement("input",{type:"radio",name:"type",value:"personal",onChange:b,checked:"personal"===f}),"Personal"," ",r.a.createElement("input",{type:"radio",name:"type",value:"professional",onChange:b,checked:"professional"===f}),"Professional",console.log("professional"===f),r.a.createElement("div",null,r.a.createElement("input",{type:"submit",value:a?"Update Contact":"Add Contact",className:"btn btn-primary btn-block"})),a&&r.a.createElement("div",null,r.a.createElement("button",{className:"btn btn-light btn-block",onClick:function(){c()}},"Clear")))},T=function(){var e=Object(n.useContext)(u),t=Object(n.useRef)(""),a=e.filterContacts,c=e.clearFilter,l=e.filtered;Object(n.useEffect)((function(){null===l&&(t.current.value="")}));return r.a.createElement("form",null,r.a.createElement("input",{ref:t,type:"text",placeholder:"Filter Contacts...",onChange:function(e){""!==t.current.value?a(e.target.value):c()}}))},N=Object(n.createContext)(),A=function(){var e=Object(n.useContext)(N).loadUser;return Object(n.useEffect)((function(){e()}),[]),r.a.createElement("div",{className:"grid-2"},r.a.createElement("div",null,r.a.createElement(R,null)),r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(C,null)))},x=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"About this page"),r.a.createElement("p",{className:"my-1"},"This is a React App with MERN Stack"),r.a.createElement("p",{className:"bg-dark p"},r.a.createElement("strong",null,"Version: "),"1.0.0"))},_=function(e){var t=e.title,a=e.icon,c=Object(n.useContext)(N),l=Object(n.useContext)(u),s=c.isAuthenticated,i=c.logout,m=c.user,p=l.clearContacts,d=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"Hello ",m&&m.name),r.a.createElement("li",null,r.a.createElement("a",{onClick:function(){i(),p()},href:"#"},r.a.createElement("i",{className:"fas fa-sign-out-alt"})," ",r.a.createElement("span",{className:"hide-sm"},"Logout")))),E=r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(o.b,{to:"/register"},"Register")),r.a.createElement("li",null,r.a.createElement(o.b,{to:"/login"},"Login")));return r.a.createElement("div",{className:"navbar bg-primary"},r.a.createElement("h1",null,r.a.createElement("i",{className:a})," ",t),r.a.createElement("ul",null,s?d:E))};_.prototype={title:d.a.string.isRequired,icon:d.a.string},_.defaultProps={title:"Contact Keeper",icon:"fas fa-id-card-alt"};var k=_,S=Object(n.createContext)(),w=function(){var e=Object(n.useContext)(S).alerts;return e.length>0&&e.map((function(e){return r.a.createElement("div",{key:e.id,className:"alert alert-".concat(e.type)},r.a.createElement("i",{className:"fas fa-info-circle"})," ",e.msg)}))},L=function(e){e.match;var t=e.history,a=(e.location,Object(n.useContext)(S).setAlert),c=Object(n.useContext)(N),l=c.register,o=c.error,s=c.clearErrors,u=c.isAuthenticated;Object(n.useEffect)((function(){u&&t.push("/"),"User already exists"===o&&(a(o,"danger"),s())}),[o,u,t]);var i=Object(n.useState)({name:"",email:"",password:"",password2:""}),m=Object(j.a)(i,2),p=m[0],d=m[1],E=p.name,f=p.email,b=p.password,O=p.password2,g=function(e){d(Object(v.a)(Object(v.a)({},p),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account ",r.a.createElement("span",{className:"text-primary"},"Register")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),E&&f&&b?b!==O?a("Password do not match","danger"):(console.log("Register submit",p),l({name:E,email:f,password:b})):a("Please enter all fields","danger")}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"text",name:"name",value:E,onChange:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",value:f,onChange:g,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:b,onChange:g,required:!0,minLength:"6"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password2"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"password2",value:O,onChange:g,required:!0})),r.a.createElement("input",{type:"submit",value:"Register",className:"btn btn-primary btn-block"})))},F=function(e){e.match;var t=e.history,a=(e.location,Object(n.useContext)(S).setAlert),c=Object(n.useContext)(N),l=c.login,o=c.error,s=c.clearErrors,u=c.isAuthenticated;Object(n.useEffect)((function(){u&&t.push("/"),"Invalid Credentials"===o&&(a(o,"danger"),s())}),[o,u,t]);var i=Object(n.useState)({email:"",password:""}),m=Object(j.a)(i,2),p=m[0],d=m[1],E=p.email,f=p.password,b=function(e){d(Object(v.a)(Object(v.a)({},p),{},Object(y.a)({},e.target.name,e.target.value)))};return r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",null,"Account ",r.a.createElement("span",{className:"text-primary"},"Login")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),""!==E&&""!==f||a("Please Fill all the fields","danger"),l(p)}},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",value:E,onChange:b,required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",value:f,onChange:b,required:!0})),r.a.createElement("input",{type:"submit",value:"Login",className:"btn btn-primary btn-block"})))},U=a(5),I=a.n(U),D=a(13),P=a(11),G=a.n(P),q=a(20),M=function(e,t){switch(t.type){case"GET_CONTACTS":return Object(v.a)(Object(v.a)({},e),{},{contacts:t.payload,loading:!1});case"ADD_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:[t.payload].concat(Object(q.a)(e.contacts)),loading:!1});case"UPDATE_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:e.contacts.map((function(e){return e._id===t.payload._id?t.payload:e})),loading:!1});case"DELETE_CONTACT":return Object(v.a)(Object(v.a)({},e),{},{contacts:e.contacts.filter((function(e){return e._id!==t.payload})),loading:!1});case"CLEAR_CONTACTS":return Object(v.a)(Object(v.a)({},e),{},{contacts:null,filtered:null,error:null,current:null,loading:!0});case"SET_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:t.payload});case"CLEAR_CURRENT":return Object(v.a)(Object(v.a)({},e),{},{current:null});case"FILTER_CONTACTS":return Object(v.a)(Object(v.a)({},e),{},{filtered:e.contacts.filter((function(e){var a=new RegExp("".concat(t.payload),"gi");return e.name.match(a)||e.email.match(a)}))});case"CLEAR_FILTER":return Object(v.a)(Object(v.a)({},e),{},{filtered:null});case"CONTACT_ERROR":return Object(v.a)(Object(v.a)({},e),{},{error:t.payload});default:return e}},H=function(e){var t=e.children,a=Object(n.useReducer)(M,{contacts:null,current:null,filtered:null,error:null,loading:!0}),c=Object(j.a)(a,2),l=c[0],o=c[1],s=function(){var e=Object(D.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.get("/api/contacts");case 3:t=e.sent,o({type:"GET_CONTACTS",payload:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"CONTACT_ERROR",payload:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(D.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,G.a.post("/api/contacts",t,a);case 4:n=e.sent,console.log(n.data._id),o({type:"ADD_CONTACT",payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),o({type:"CONTACT_ERROR",payload:e.t0.response.data.errors});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(D.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.a.delete("/api/contacts/".concat(t));case 3:e.sent,o({type:"DELETE_CONTACT",payload:t}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),o({type:"CONTACT_ERROR",payload:e.t0.response.data.msg});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(D.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,G.a.put("/api/contacts/".concat(t._id),t,a);case 4:n=e.sent,o({type:"UPDATE_CONTACT",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),o({type:"CONTACT_ERROR",payload:e.t0.response.data.msg});case 11:o({type:"UPDATE_CONTACT",payload:t});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(u.Provider,{value:{contacts:l.contacts,error:l.error,current:l.current,filtered:l.filtered,loading:l.loading,getContacts:s,addContact:i,deleteContact:m,updateContact:p,setCurrent:function(e){o({type:"SET_CURRENT",payload:e})},clearCurrent:function(){o({type:"CLEAR_CURRENT"})},filterContacts:function(e){o({type:"FILTER_CONTACTS",payload:e})},clearFilter:function(){o({type:"CLEAR_FILTER"})},clearContacts:function(){o({type:"CLEAR_CONTACTS"})}}},t)},V=function(e,t){switch(t.type){case"USER_LOADED":return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,loading:!1,user:t.payload});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(v.a)(Object(v.a)(Object(v.a)({},e),t.payload),{},{isAuthenticated:!0,loading:!1});case"REGISTER_FAIL":case"AUTH_ERROR":case"LOGIN_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(v.a)(Object(v.a)({},e),{},{token:null,isAuthenticated:!1,loading:!1,user:null,error:t.payload});case"CLEAR_ERRORS":return Object(v.a)(Object(v.a)({},e),{},{error:null});default:return e}},J=function(e){e?G.a.defaults.headers.common["x-auth-token"]=e:delete G.a.defaults.headers.common["x-auth-token"]},B=function(e){var t=e.children,a={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null,error:null},c=Object(n.useReducer)(V,a),l=Object(j.a)(c,2),o=l[0],s=l[1],u=function(){var e=Object(D.a)(I.a.mark((function e(){var t;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.token&&J(localStorage.token),e.prev=1,e.next=4,G.a.get("/api/auth");case 4:t=e.sent,s({type:"USER_LOADED",payload:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s({type:"AUTH_ERROR",payload:e.t0.response.data.msg});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(D.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,G.a.post("/api/users",t,a);case 4:n=e.sent,s({type:"REGISTER_SUCCESS",payload:n.data}),u(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"REGISTER_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(D.a)(I.a.mark((function e(t){var a,n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Contetent-Type":"application/json"}},e.prev=1,e.next=4,G.a.post("/api/auth",t,a);case 4:n=e.sent,s({type:"LOGIN_SUCCESS",payload:n.data}),u(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"LOGIN_FAIL",payload:e.t0.response.data.msg});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(N.Provider,{value:{token:o.token,isAuthenticated:o.isAuthenticated,loading:o.loading,user:o.user,error:o.error,register:i,loadUser:u,login:m,logout:function(){return s({type:"LOGOUT"})},clearErrors:function(){return s({type:"CLEAR_ERRORS"})}}},t)},K=a(71),z=function(e,t){switch(t.type){case"SET_ALERT":return[].concat(Object(q.a)(e),[t.payload]);case"REMOVE_ALERT":return e.filter((function(e){return e.id!==t.payload}));default:return e}},Q=function(e){var t=e.children,a=Object(n.useReducer)(z,[]),c=Object(j.a)(a,2),l=c[0],o=c[1];return r.a.createElement(S.Provider,{value:{alerts:l,setAlert:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5e3,n=Object(K.a)();o({type:"SET_ALERT",payload:{msg:e,type:t,id:n}}),W(o,n,a)}}},t)};function W(e,t,a){setTimeout((function(){e({type:"REMOVE_ALERT",payload:t})}),a)}var X=a(36),Y=function(e){var t=e.component,a=Object(X.a)(e,["component"]),c=Object(n.useContext)(N),l=c.isAuthenticated,o=c.loading;return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return l||o?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))};localStorage.token&&J(localStorage.token);var Z=function(){return r.a.createElement(B,null,r.a.createElement(H,null,r.a.createElement(Q,null,r.a.createElement(o.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null),r.a.createElement("div",{className:"container"},r.a.createElement(w,null),r.a.createElement(s.d,null,r.a.createElement(Y,{exact:!0,path:"/",component:A}),r.a.createElement(s.b,{exact:!0,path:"/about",component:x}),r.a.createElement(s.b,{exact:!0,path:"/register",component:L}),r.a.createElement(s.b,{exact:!0,path:"/login",component:F}))))))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null)),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.b4938844.chunk.js.map